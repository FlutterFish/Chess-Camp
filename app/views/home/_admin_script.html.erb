<script>
var m1 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "01"}.size%>;
var m2 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "02"}.size%>;
var m3 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "03"}.size%>;
var m4 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "04"}.size%>;
var m5 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "05"}.size%>;
var m6 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "06"}.size%>;
var m7 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "07"}.size%>;
var m8 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "08"}.size%>;
var m9 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "09"}.size%>;
var m10 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "10"}.size%>;
var m11 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "11"}.size%>;
var m12 = <%= Registration.select{|r| r.camp.start_date.strftime("%m").to_s == "12"}.size%>;
$(function() {
	$('#registration-by-month-graph').highcharts({
  	chart: {
  			type: 'column'
		},

		title: {
 			text: "Registrations by Month"
 		},

 		xAxis: {
 			type: 'category',
  		labels: {
      		rotation: -45,
      		style: {
          		fontSize: '13px',
          		fontFamily: 'Verdana, sans-serif'
      		}
  		}
		},
		yAxis: {
  		min: 0,
  		title: {
      		text: 'Number Registered'
  		}
		},

		tooltip: {
  		pointFormat: 'Students Registered This Month: <b>{point.y:.f} students</b>'
		},

		plotOptions: {
 				pie: {
      			allowPointSelect: true,
      			cursor: 'pointer',
      			dataLabels: {
          			enabled: true,
          			format: '<b>{point.name}</b>: {point.percentage:.1f} %',
          			style: {
              		color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
          			}
      				}
  				}
		},

 		series: [{
  		name: 'Months',
  		colorByPoint: true,

  		data: [{
      		name: 'Jan',
      		y: m1,
      		selected: true
  			}, {
      		name: 'Feb',
      		y: m2
  			}, {
      		name: 'Mar',
      		y: m3
  			}, {
      		name: 'Apr',
      		y: m4
  			}, {
      		name: 'May',
      		y: m5
  			}, {
      		name: 'Jun',
      		y: m6
  			}, {
      		name: 'Jul',
      		y: m7
  			}, {
      		name: 'Aug',
      		y: m8
  			}, {
      		name: 'Sep',
      		y: m9
  			}, {
      		name: 'Oct',
      		y: m10
  			}, {
      		name: 'Nov',
      		y: m11
  			}, {
      		name: 'Dec',
      		y: m12
  			}]
		}]	
	});
});
</script>